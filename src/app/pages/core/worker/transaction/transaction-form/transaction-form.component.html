@if (coreService.isLoading) {
<app-skeleton [type]="SkeletonEnum.CARD"></app-skeleton>
} @if (!coreService.isLoading) {
<p-toolbar>
  <div class="p-toolbar-group-left">
    <app-header-form [id]="id"></app-header-form>
  </div>
  <div class="p-toolbar-group-right">
    <button
      pButton
      pRipple
      type="button"
      (click)="back()"
      [icon]="IconButtonActionEnum.CANCEL"
      [label]="LabelButtonActionEnum.CANCEL"
      [loading]="coreService.isLoading"
      [ngClass]="[ClassButtonActionEnum.CANCEL]"
    ></button>

    <p-divider layout="vertical"></p-divider>

    <button
      pButton
      pRipple
      type="button"
      (click)="onSubmit()"
      [icon]="IconButtonActionEnum.SAVE"
      [label]="LabelButtonActionEnum.SAVE"
      [loading]="coreService.isLoading"
      [ngClass]="[ClassButtonActionEnum.SAVE]"
    ></button>
  </div>
</p-toolbar>

<p-panel class="p-fluid">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- <div class="field">
      <label appLabel for="category" label="Categoría" [required]="categoryField"></label>
      <p-dropdown
        id="category"
        dataKey="id"
        formControlName="category"
        [filter]="true"
        [options]="categories"
        optionLabel="name"
        placeholder="Seleccione...">
      </p-dropdown>
      <small
        appErrorMessage
        [errors]="categoryField.errors"
        [touched]="categoryField.touched"
        [dirty]="categoryField.dirty"
      >
      </small>
    </div> -->

    <div class="formgrid grid">
      <!-- Codigo -->
      <div class="field xl:col-5 lg:col-5 md:col-12 sm:col-12">
        <label
          appLabel
          for="code"
          label="Código"
          [required]="codeField"
        ></label>
        <input pInputText type="text" id="code" formControlName="code" />
        <small
          appErrorMessage
          [errors]="codeField.errors"
          [touched]="codeField.touched"
          [dirty]="codeField.dirty"
        >
        </small>
      </div>
       <!-- Date -->
       <div class="field xl:col-5 lg:col-5 md:col-12 sm:col-12">
        <label
          appLabel
          for="date"
          label="Fecha"
          [required]="dateField"
        ></label>
        <app-help-field
        (mouseenter)="opDate.toggle($event)"
        (mouseleave)="opDate.hide()"
      ></app-help-field>
        <input pInputText type="date" id="date" datelName="date" />
        <small
          appErrorMessage
          [errors]="dateField.errors"
          [touched]="dateField.touched"
          [dirty]="dateField.dirty"
        >
        </small>
      </div>
    <!-- type -->
    <div class="field xl:col-5 lg:col-5 md:col-12 sm:col-12">
      <label
        appLabel
        for="type"
        label="Tipo"
        [required]="typeField"
      ></label>
      <app-help-field
      (mouseenter)="opType.toggle($event)"
      (mouseleave)="opType.hide()"
    ></app-help-field>
      <input pInputText type="bolean" id="type" typeName="date" />
      <small
        appErrorMessage
        [errors]="typeField.errors"
        [touched]="typeField.touched"
        [dirty]="typeField.dirty"
      >
      </small>
    </div>

    <!-- Descripcion -->
    <div class="field xl:col-12 lg:col-12 md:col-12 sm:col-12">
      <label
        appLabel
        for="description"
        label="Descripción"
        [required]="descriptionField"
      ></label>
      <input pInputText type="text" id="description" formControlName="description" />
      <small
        appErrorMessage
        [errors]="descriptionField.errors"
        [touched]="descriptionField.touched"
        [dirty]="descriptionField.dirty"
      >
      </small>
    </div>


      </div>
    </form>
  </p-panel>
  }

<p-overlayPanel #opDate>
  <ng-template pTemplate="content">
    Ingrese la fecha de ingreso
  </ng-template>
</p-overlayPanel>

<p-overlayPanel #opDate>
  <ng-template pTemplate="content">
    Ingrese la fecha de ingreso
  </ng-template>
</p-overlayPanel>


<p-overlayPanel #opType>
  <ng-template pTemplate="content">
    Elija el tipo de ingreso
  </ng-template>

