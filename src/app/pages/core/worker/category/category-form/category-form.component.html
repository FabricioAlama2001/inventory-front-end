@if (coreService.isLoading) {
    <app-skeleton [type]="SkeletonEnum.CARD"></app-skeleton>
    } @if (!coreService.isLoading) {
    <p-toolbar>
      <div class="p-toolbar-group-left">
        <app-header-form [id]="id"></app-header-form>
      </div>
      <div class="p-toolbar-group-right">
        <button
          pButton
          pRipple
          type="button"
          (click)="back()"
          [icon]="IconButtonActionEnum.CANCEL"
          [label]="LabelButtonActionEnum.CANCEL"
          [loading]="coreService.isLoading"
          [ngClass]="[ClassButtonActionEnum.CANCEL]"
        ></button>
  
        <p-divider layout="vertical"></p-divider>
  
        <button
          pButton
          pRipple
          type="button"
          (click)="onSubmit()"
          [icon]="IconButtonActionEnum.SAVE"
          [label]="LabelButtonActionEnum.SAVE"
          [loading]="coreService.isLoading"
          [ngClass]="[ClassButtonActionEnum.SAVE]"
        ></button>
      </div>
    </p-toolbar>
  
    <p-panel class="p-fluid">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
  
        <div class="formgrid grid">
          <!-- Codigo -->
          <div class="field xl:col-5 lg:col-5 md:col-12 sm:col-12">
            <label
              appLabel
              for="code"
              label="Código"
              [required]="codeField"
            ></label>
            <input pInputText type="text" id="code" formControlName="code" />
            <small
              appErrorMessage
              [errors]="codeField.errors"
              [touched]="codeField.touched"
              [dirty]="codeField.dirty"
            >
            </small>
          </div>
          <!-- Nombre -->
          <div class="field xl:col-5 lg:col-5 md:col-12 sm:col-12">
            <label
              appLabel
              for="name"
              label="Nombre"
              [required]="nameField"
            ></label>
            <app-help-field
              (mouseenter)="opName.toggle($event)"
              (mouseleave)="opName.hide()"
            ></app-help-field>
            <input pInputText type="text" id="name" formControlName="name" />
            <small
              appErrorMessage
              [errors]="nameField.errors"
              [touched]="nameField.touched"
              [dirty]="nameField.dirty"
            >
            </small>
          </div>
          <!-- Enable -->
          <div class="field xl:col-2 lg:col-2 md:col-12 sm:col-12">
            <label
              appLabel
              for="enabled"
              label="Estado"
              [required]="enabledField"
            ></label>
            <p>
              <p-inputSwitch id="enabled" formControlName="enabled"></p-inputSwitch>
            </p>
            <small
              appErrorMessage
              [errors]="enabledField.errors"
              [touched]="enabledField.touched"
              [dirty]="enabledField.dirty"
            >
            </small>
          </div>
  
        <!-- Descripcion -->
        <div class="field xl:col-12 lg:col-12 md:col-12 sm:col-12">
          <label
            appLabel
            for="description"
            label="Descripción"
            [required]="descriptionField"
          ></label>
          <input pInputText type="text" id="description" formControlName="description" />
          <small
            appErrorMessage
            [errors]="descriptionField.errors"
            [touched]="descriptionField.touched"
            [dirty]="descriptionField.dirty"
          >
          </small>
        </div>
        </div>
      </form>
    </p-panel>
    }
  
    <p-overlayPanel #opName>
      <ng-template pTemplate="content">
        Ingrese el nombre de la categoría
      </ng-template>
    </p-overlayPanel>